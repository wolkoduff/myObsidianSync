Обращение и работа с RestCall
Для чего он нужен и как с ним работать
Нужен этот компонент, когда хотите не загружать весь справочник на форму, а вызвать справочник с ЕСНСИ и проверить полученные с него результаты с каким-либо значением. Например, не пускать получать услугу, если стоит ограничение на получателей, конкретный список ОГРН-ок, на стартовом экране же никак не проверить, да и загружать справочник в выпадающий список до экрана решения без уточняющих вопросов нельзя. Да и не нужно в целом, поскольку данный компонент поможет справиться с такой задачей
Далее будет расписан подобно пример по справочнику Participant_Legal_Entity
![[Pasted image 20250610225000.png]]
Записей в этом справочнике 7, мы рассмотрим одну из них
![[Pasted image 20250610224844.png]]
Как мы видим, у справочника есть запись с ОГРН ***1065009017534***
Как мы можем проверить, есть ли заявитель в справочнике ЕСНСИ для дальнейшего получения услуги?
Есть два путя, как я говорил ранее:
- Получить список через restCall-запрос и по полученному ответу проверить наличие там записи через ОГРН организации
- Получить список через restCall-запрос и применить уже к полученным значениям фильтрацию по ОГРН организации
Если получаем список сразу же так, как есть, т.е. прописываем справочник, который будет вызываться и получаться по нему ответ
![[Pasted image 20250610225414.png]]
Если мы вызываем справочник через фильтрацию уже в запросе
![[Pasted image 20250610225247.png]]
Дальше заполняем только linkedValues значение
![[Pasted image 20250610225334.png]]
Чем отличаются два подхода?
Да по большей части незначительно в рамках конфигурации самого компонента, а вот в правилах переходов будут иметь значительную разницу, о чём опишу далее
