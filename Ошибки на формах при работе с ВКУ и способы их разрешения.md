# Все сов падения случайны, мемы строго локальные, чтобы не скучно было читать сию духоту
# Ошибки и возможные пути их разрешения
## Список ожидает 2 аргумента, а передан только один
Сообщение об ошибке будет выглядеть так:
![[Сообщение об ошибке, дефолтное и стабильное мозговыносящее.png]]
Но при детальном рассмотрении можно заметить, что ответ нам дали в лог об ошибке
![[Описание где возникла ошибка.png]]
Когда в правиле перехода прописано, что сравнивать "Находится в списке", а аргумент только один. Список - это минимум 2 значения
![[Находится в списке с одним элементом - косяк.png]]
Т.е. для таких случаев, используем операцию сравнения "Равно" (строго) или "Совпадает" (регулярки можно ставить)

Ошибка в калькуляторе или проверка значения без getIf()
Текст ошибки:
```json
Error while processing object from json: Unrecognized token 'empty': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n at [Source: (String)\"empty\"; line: 1, column: 6]
```
О чём эта ошибка нам говорит: кто-то накосячил и не проверил, а существует ли ваще компонент?
Возможное решение:
```json
arg1: "'${c2}' != 'empty' ? '${c2}' : ''"
```
Если вдруг калькулятор по повторяшке и внутренним значениям по фильтру не хочет работать, то стоит посмотреть, что же делается не так:
Так оно не работает корректно и падает в ошибку
```json
{
    "linkedValues": [
        {
            "version": 2,
            "argument": "massiv",
            "definition": {
                "expression1": "arg1.size() > 0",
                "arg1": "asList('${c128.[*].c312.[?(@.id == '2')]}')"
            }
        }
    ]
}

```
Что надо заменить или как:
```json
asList('${c128.[?(@.c312 == \"2\")]}')"
```
Что мы делает: фильтруем компонент `c128` через правило: c312 должно быть равно 2, т.к. c312 - это у нас квиз в повторяшке, а он простой как 2 рубля и не формируется динамически

Ошибка, когда в циклических правилах переходов кавардак, или почему рекомендую не усложнять
![[Ошибка в цикле - иду на два экрана, т.к. правила выполняются и там и сям.png]]
С экрана s59 не смог пройти дальше, причина - очень много правил, и заявление попадает под 2 правила, отчего не может разорваться, поскольку в цикле, а в обычном случае, вне цикла, сказало бы, что не найдено правил для перехода, поскольку актуально 2
![[БИЧ Циклических правил переходов.png]]
Решение:
Оставить правило для перехода на s136 с условиями, а если не попадает под переход на s136, тогда на s135. Помогло

# Как смотреть ошибки при загрузке справочников:
Бывает так, что делаешь фильтрацию для справочника, а он ничего не возвращает, ошибки также нет, но и посмотреть не знаешь где, ведь вроде грузилось всё хорошо и ошибок не возникло, просто пустой компонент
Первая реакция будет стабильно следующей:
![[ГДЕ ЗНАЧЕНИЯ ПОСЛЕ ФИЛЬТРАЦИИ.jpg]]
Находим среди загружаемых getNextStep-ов справочник, к которому применили фильтрацию, но он оказался пустой в выпадающем списке или мультичоизе
![[Фильтр не сработал при условии Содержит или Contains.png]]
В идеале, total больше 0, error.Code= 0
Что мы видим: значение `[35]` не применимо для Содержит CONTAINS, т.е. нельзя применить свойство "содержит"
![[Настройки фильтрации по Равно EQUALS.png]]
Справочник идеально загруженный будет выглядеть так:
![[Справочник что-то да загрузил.png]]
Но мы на этом решили не останавливаться и продолжать эксперименты
![[Атрибут ОКТМО имеет тип LONG и не может сравниваться со строкой.png]]
Была попытка по атрибуту oktmo выполнить фильтрацию, но мы получили от ворот поворот со словами:
* атрибут oktmo типа Long, т.е. целое число
* число не может быть сравнено со строкой '35'
![[Значение 35 не применимо к условию START_WITH или начинается с.png]]
К числам нельзя применять свойство starts_with или end_with, т.е. начинается с или заканчивается на что-то
## Почему такое происходило:
Кто-то просто сказал, что *URL загружаемого справочника* dictionary, а надо было просто оставить "не выбрано"
![[Корректная настройка компонента, где фильтруем.png]]
И оставить следующую фильтрацию по выбранному словарю
![[Корректно будет, если не меняли URL справочника.png]]
Вот тогда фильтрация заработает как положено