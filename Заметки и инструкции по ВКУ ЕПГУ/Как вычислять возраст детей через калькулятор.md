![[Pasted image 20250611000744.png]]
Код со скриншота ниже
```json
{
    "linkedValues": [
        {
            "version": 2,
            "argument": "sp1",
            "definition": {
                "expression1": "arg8 + '++' + arg7 + '++' + arg6",
                "arg1": "asString('${variable.today}').substring(0,10)",
                "arg2": "asString('${c18}').substring(0,10)",
                "arg3": "asInt(#arg1.substring(8)) - asInt(#arg2.substring(8))",
                "arg4": "asInt(#arg1.substring(5, 7)) - asInt(#arg2.substring(5, 7))",
                "arg5": "asInt(#arg1.substring(0, 4)) - asInt(#arg2.substring(0, 4))",
                "arg6": "#arg3 < 0 ? #arg4 - 1 : #arg4",
                "arg7": "#arg6 < 0 ? #arg5 - 1 : #arg5",
                "arg8": "#arg7 < 18 ? #arg7 < 6 ? 'child' : 'teenager' : 'adult'"
            },
            "jsonSource": false
        }
    ]
}
```
Иногда бывает лень писать код нормально, посему можно сделать через собственноручный калькулятор, т.к. ответа от СЦ порой ждать можно неделями, а результат нужен здесь, и желательно счаз
На примере кода выше я сделал калькулятор по возрасту на текущий момент, но есть особенность у него - я беру дату для сравнения с обычного компонента ввода даты (DateInput) с ИД c18. 
Поскольку дата приходит в подробном формате гггг-мм-дд и прочие прелести, то я её получаю как строку и обрезаю до гггг-мм-дд
Первым же аргументом у меня выступает текущая дата на момент подачи заявления (константа всегда сегодня)
Дальше уже начинается магия вычислений и матерных выражений, иначе не сказать:
* arg3 - вычисляем дни между собой, т.е. из сегодняшнего дня (число) я вычитаю день из даты рождения
* arg4 - тоже самое, но уже с месяцами
* arg5 - тоже самое, но уже с годами
* arg6 - если день оказался в минусе, значит надо вычесть из месяцев 1, иначе оставляю месяц как есть (arg6 в данном случае считается теперь валидным месяцем)
* arg7 - если месяц вычисленный оказался меньше 0, тогда надо вычитать год (arg7 в данном случае валидный год теперь стал от вычисленного)
* arg8 - если годиков меньше 18 и меньше 6, тогда результат 'child', если же меньше 18, но старше 6 - teenager, иначе же уже взрослый самостоятельный, adult
Другими словами, arg8 и является результатом вычисления нашего калькулятора, но для отладки я через ++ вывожу ещё год и месяц, т.е. сколько лет, месяцев получилось на сегодняшний день
Для чего это нужно: для определения, на какой экран отправить заявителя по маршруту следования, а также как-то можно записывать в сохраняемые значения (создать невидимый компонент нужно и в него тогда записывать вычисленное значение), чтобы в дальнейшем создать выпадающий список, в котором должны быть записи, у которых результат вычисления калькулятора будет только child, child и teenager или только teenager либо же только adult, но источником при этом всём добре выступает один